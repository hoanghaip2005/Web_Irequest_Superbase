<h3 class='text-center mb-4 fw-bold text-dark'>Quên mật khẩu</h3>
<p class='text-center text-muted mb-4'>
  Nhập địa chỉ email của bạn và chúng tôi sẽ gửi liên kết đặt lại mật khẩu
</p>

{{#if error}}
  <div class='alert alert-danger d-flex align-items-center'>
    <i class='fas fa-exclamation-triangle me-2'></i>
    <span>{{error}}</span>
  </div>
{{/if}}

{{#if success}}
  <div class='alert alert-success d-flex align-items-center'>
    <i class='fas fa-check-circle me-2'></i>
    <span>{{success}}</span>
  </div>
{{/if}}

{{#if info}}
  <div class='alert alert-info d-flex align-items-center'>
    <i class='fas fa-info-circle me-2'></i>
    <span>{{info}}</span>
  </div>
{{/if}}

<form action='/auth/forgot-password' method='POST' id='forgotPasswordForm'>
  <div class='form-floating mb-4'>
    <input
      type='email'
      class='form-control'
      id='email'
      name='email'
      value='{{email}}'
      placeholder='name@example.com'
      required
    />
    <label for='email'>
      <i class='fas fa-envelope me-2'></i>Địa chỉ email
    </label>
  </div>

  <button type='submit' class='btn btn-auth text-white mb-4' id='submitBtn'>
    <i class='fas fa-paper-plane me-2'></i>Gửi liên kết đặt lại
  </button>

  <div class='text-center mb-3'>
    <small class='text-muted'>
      <i class='fas fa-clock me-1'></i>
      Liên kết sẽ hết hạn sau 1 giờ
    </small>
  </div>

  <div class='divider'>
    <span>hoặc</span>
  </div>

  <div class='auth-links'>
    <div class='d-flex justify-content-between'>
      <a href='/auth/login' class='text-decoration-none'>
        <i class='fas fa-arrow-left me-2'></i>Quay lại đăng nhập
      </a>
      <a href='/auth/register' class='text-decoration-none'>
        <i class='fas fa-user-plus me-2'></i>Đăng ký mới
      </a>
    </div>
  </div>
</form>

<!-- Help Modal -->
<div class='text-center mt-4'>
  <button
    type='button'
    class='btn btn-link btn-sm text-decoration-none'
    data-bs-toggle='modal'
    data-bs-target='#helpModal'
  >
    <i class='fas fa-question-circle me-1'></i>Cần trợ giúp?
  </button>
</div>

<div class='modal fade' id='helpModal' tabindex='-1'>
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h5 class='modal-title'>
          <i class='fas fa-question-circle me-2 text-info'></i>
          Trợ giúp đặt lại mật khẩu
        </h5>
        <button
          type='button'
          class='btn-close'
          data-bs-dismiss='modal'
        ></button>
      </div>
      <div class='modal-body'>
        <div class='mb-3'>
          <h6><i class='fas fa-envelope text-primary me-2'></i>Không nhận được
            email?</h6>
          <ul class='small'>
            <li>Kiểm tra thư mục spam/junk</li>
            <li>Đảm bảo email được nhập chính xác</li>
            <li>Đợi vài phút và thử lại</li>
          </ul>
        </div>

        <div class='mb-3'>
          <h6><i class='fas fa-shield-alt text-success me-2'></i>Bảo mật tài
            khoản</h6>
          <ul class='small'>
            <li>Không chia sẻ liên kết đặt lại với ai</li>
            <li>Sử dụng mật khẩu mạnh và duy nhất</li>
            <li>Đặt lại mật khẩu ngay khi có nghi ngờ</li>
          </ul>
        </div>

        <div class='alert alert-info'>
          <i class='fas fa-info-circle me-2'></i>
          <strong>Liên hệ hỗ trợ:</strong><br />
          Email: support@irequest.com<br />
          Phone: (84) 123-456-789
        </div>
      </div>
      <div class='modal-footer'>
        <button
          type='button'
          class='btn btn-secondary'
          data-bs-dismiss='modal'
        >Đóng</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() { const form =
  document.getElementById('forgotPasswordForm'); const submitBtn =
  document.getElementById('submitBtn'); form.addEventListener('submit',
  function(e) { const originalText = submitBtn.innerHTML; submitBtn.disabled =
  true; submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Đang
  gửi...'; // Re-enable after 30 seconds if still on page setTimeout(() => {
  submitBtn.disabled = false; submitBtn.innerHTML = originalText; }, 30000); });
  // Auto focus email input document.getElementById('email').focus(); });
</script>